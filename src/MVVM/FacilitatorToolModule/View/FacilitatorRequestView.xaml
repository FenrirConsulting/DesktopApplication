<UserControl x:Class="IAMHeimdall.MVVM.View.FacilitatorRequestView"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
             xmlns:d1="http://schemas.microsoft.com/expression/blend/2008"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:i="http://schemas.microsoft.com/xaml/behaviors"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
             xmlns:viewModel="clr-namespace:IAMHeimdall.MVVM.ViewModel"
             xmlns:custom="clr-namespace:IAMHeimdall.Resources"
             FontFamily="/IAMHeimdall;component/Resources/Fonts/#Lato"
             mc:Ignorable="d1 d"
             d:DesignHeight="600"
             d:DesignWidth="1200">
    <UserControl.DataContext>
        <viewModel:FacilitatorRequestViewModel>
        </viewModel:FacilitatorRequestViewModel>
    </UserControl.DataContext>
    <i:Interaction.Triggers>
        <i:EventTrigger EventName="Loaded">
            <i:CallMethodAction TargetObject="{Binding}" MethodName="LoadData" />
        </i:EventTrigger>
    </i:Interaction.Triggers>
    <UserControl.Resources>
        <BooleanToVisibilityConverter x:Key="BoolToVis" />
        <custom:RadioButtonConverter x:Key="RadioConverterKey" />
    </UserControl.Resources>

    <Border Margin="0,0,0,0"
            BorderThickness="0">
        <Border.Background>
            <LinearGradientBrush StartPoint="0,0" EndPoint="1,0">
                <GradientStop Offset="0.0" Color="{StaticResource ResourceKey=JuteBrownColorDarker}" />
                <GradientStop Offset="0.5" Color="{StaticResource ResourceKey=JuteBrownLighterColor}" />
                <GradientStop Offset="1.0" Color="{StaticResource ResourceKey=JuteBrownColor}" />
            </LinearGradientBrush>
        </Border.Background>
        <Grid>
            <Grid.RowDefinitions>
                <RowDefinition Height="40" />
                <RowDefinition Height="9*" />
            </Grid.RowDefinitions>
            <Border Grid.Row="0"
                    Background="{StaticResource DeepOnyx}">
                <Grid>
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="7*" />
                        <ColumnDefinition Width="2*" />
                        <ColumnDefinition Width="1*" />
                    </Grid.ColumnDefinitions>

                    <Label      Content="Request"
                                Grid.Column="0"
                                Width="417"
                                Height="40"
                                Padding="0"
                                HorizontalAlignment="Left"
                                VerticalAlignment="Center"
                                Style="{StaticResource HeaderLabelStyle}"
                                Foreground="{StaticResource StoneWhite}"
                                FontWeight="Bold" />
                    <StackPanel Grid.Column="1"
                                Orientation="Horizontal">
                        <Label  Content="Export to: "
                                Grid.Column="0"
                                Height="30"
                                Padding="0"
                                VerticalAlignment="Bottom"
                                HorizontalAlignment="Right"
                                Style="{StaticResource LabelStyle}"
                                Foreground="{StaticResource StoneWhite}"
                                FontWeight="Bold" />
                        <Button x:Name="clipboardButton"
                                Grid.Column="1"
                                BorderThickness="0"
                                ToolTip="Clipboard Export"
                                WindowChrome.IsHitTestVisibleInChrome="True"
                                Width="30"
                                Style="{StaticResource TitleButtonTheme}"
                                Margin="5"
                                Height="30"
                                VerticalAlignment="Bottom"
                                HorizontalAlignment="Left"
                                DockPanel.Dock="Right"
                                Foreground="White"
                                Command="{Binding ClipboardExportCommand}">
                            <Button.Background>
                                <ImageBrush ImageSource="/IAMHeimdall;component/Resources/Images/Clipboard.png" />
                            </Button.Background>
                        </Button>
                        <Button x:Name="csvButton"
                                Grid.Column="2"
                                BorderThickness="0"
                                ToolTip="CSV Export"
                                WindowChrome.IsHitTestVisibleInChrome="True"
                                Width="30"
                                RenderTransformOrigin="-0.736,-1.222"
                                Style="{StaticResource TitleButtonTheme}"
                                Margin="5"
                                Height="30"
                                VerticalAlignment="Bottom"
                                HorizontalAlignment="Left"
                                DockPanel.Dock="Right"
                                Foreground="Transparent"
                                Command="{Binding CSVExportCommand}">
                            <Button.Background>
                                <ImageBrush ImageSource="/IAMHeimdall;component/Resources/Images/CSVExport.png" />
                            </Button.Background>
                        </Button>
                        <Button x:Name="htmlButton"
                                Grid.Column="3"
                                BorderThickness="0"
                                ToolTip="HTML Export"
                                WindowChrome.IsHitTestVisibleInChrome="True"
                                Width="30"
                                RenderTransformOrigin="-0.736,-1.222"
                                Style="{StaticResource TitleButtonTheme}"
                                Margin="5"
                                Height="30"
                                VerticalAlignment="Bottom"
                                HorizontalAlignment="Left"
                                DockPanel.Dock="Right"
                                Foreground="Transparent"
                                Command="{Binding HTMLExportCommand}">
                            <Button.Background>
                                <ImageBrush ImageSource="/IAMHeimdall;component/Resources/Images/HtmlExport.png" />
                            </Button.Background>
                        </Button>
                    </StackPanel>
                    <custom:LoadingSpinner
                                x:Name="SpinnerCorner"
                                HorizontalAlignment="Center"
                                VerticalAlignment="Center"
                                Grid.Column="2"
                                IsLoading="{Binding IsLoadBool}"
                                Panel.ZIndex="1"
                                Thickness="2"
                                Cap="Round"
                                Diameter="30" />
                </Grid>
            </Border>

            <Grid Grid.Row="1">
                <Grid.RowDefinitions>
                    <RowDefinition Height="2*" />
                    <RowDefinition Height="6*" />
                    <RowDefinition Height="2*" />
                </Grid.RowDefinitions>

                <Border BorderBrush="{StaticResource FossilGrey}"
                            BorderThickness="1"
                            Grid.Row="0">
                    <Grid>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="2.5*" />
                            <ColumnDefinition Width="1.5*" />
                            <ColumnDefinition Width="1.5*" />
                            <ColumnDefinition Width="1.5*" />
                            <ColumnDefinition Width="1.5*" />
                            <ColumnDefinition Width="1.5*" />
                        </Grid.ColumnDefinitions>
                        <Border BorderBrush="{StaticResource FossilGrey}"
                            BorderThickness="1"
                            Grid.Column="0">
                            <Grid Grid.Row="0">
                                <Grid.RowDefinitions>
                                    <RowDefinition Height="4*" />
                                    <RowDefinition Height="9*" />
                                </Grid.RowDefinitions>
                                <Label Content="Request"
                                           Margin="4,0,0,0"
                                           Grid.Row="0"
                                           Padding="0"
                                           Style="{StaticResource LabelStyle}"
                                           Foreground="{StaticResource StoneWhite}"
                                           FontWeight="Bold" />

                                <Grid Grid.Row="1">
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="3*" />
                                        <ColumnDefinition Width="7*" />
                                    </Grid.ColumnDefinitions>
                                    <Grid Grid.Column="0"
                                          Margin="4,0,0,0">
                                        <Grid.RowDefinitions>
                                            <RowDefinition Height="5*" />
                                            <RowDefinition Height="5*" />
                                        </Grid.RowDefinitions>
                                        <RadioButton Content="New"
                                                         Grid.Row="0"
                                                         IsEnabled="{Binding RequestNewEnabled}"
                                                         IsChecked="{Binding RequestButtonSelectionConverter, Converter={StaticResource ResourceKey=RadioConverterKey}, ConverterParameter=New}">
                                            <i:Interaction.Triggers>
                                                <i:EventTrigger EventName="Checked">
                                                    <i:InvokeCommandAction Command="{Binding RequestModeChangedCommand}" />
                                                </i:EventTrigger>
                                            </i:Interaction.Triggers>
                                        </RadioButton>
                                        <RadioButton Content="Existing"
                                                         Grid.Row="1"
                                                         IsEnabled="{Binding RequestExistingEnabled}"
                                                         IsChecked="{Binding RequestButtonSelectionConverter, Converter={StaticResource ResourceKey=RadioConverterKey}, ConverterParameter=Existing}">
                                            <i:Interaction.Triggers>
                                                <i:EventTrigger EventName="Checked">
                                                    <i:InvokeCommandAction Command="{Binding RequestModeChangedCommand}" />
                                                </i:EventTrigger>
                                            </i:Interaction.Triggers>
                                        </RadioButton>
                                    </Grid>
                                    <Grid Grid.Column="1"
                                          Margin="4,0,0,0">
                                        <Grid.RowDefinitions>
                                            <RowDefinition Height="5*" />
                                            <RowDefinition Height="5*" />
                                        </Grid.RowDefinitions>
                                        <Grid Grid.Row="0">
                                            <Grid.ColumnDefinitions>
                                                <ColumnDefinition Width="3*" />
                                                <ColumnDefinition Width="7*" />
                                            </Grid.ColumnDefinitions>
                                            <Label Content="Ref # "
                                                   Grid.Column="0"
                                                   Padding="0"
                                                   Style="{StaticResource LabelStyle}"
                                                   VerticalAlignment="Bottom"
                                                   Foreground="{StaticResource StoneWhite}"
                                                   Margin="0,0,0,5"
                                                   FontWeight="Bold" />

                                            <Border CornerRadius="5"
                                                   Background="{StaticResource TricornBlack}"
                                                   Margin="5,10,5,5"
                                                   VerticalAlignment="Bottom"
                                                   Width="Auto"
                                                   Grid.Column="1"
                                                   Height="Auto">
                                                <TextBox x:Name="ReferenceTextBox"
                                                   Grid.Column="1"
                                                   VerticalContentAlignment="Center"
                                                   HorizontalAlignment="Stretch"
                                                   VerticalAlignment="Stretch"
                                                   Height="Auto"
                                                   Width="Auto"
                                                   Margin="3"
                                                   Style="{StaticResource UpdateBox}"
                                                   IsEnabled="{Binding RefTextBoxEnabled}"
                                                   Text="{Binding ReferenceTextBoxString,Mode=TwoWay,UpdateSourceTrigger=PropertyChanged}" />
                                            </Border>
                                        </Grid>

                                        <Button x:Name="GetRequestButton"
                                                Grid.Row="1"
                                                Content="Get Request"
                                                Style="{StaticResource ButtonStyle}"
                                                HorizontalAlignment="Left"
                                                VerticalAlignment="Bottom"
                                                Margin="0,0,0,5"
                                                FontWeight="Bold"
                                                IsEnabled="{Binding GetRequestButtonEnabled}"
                                                Command="{Binding GetRequestCommand}" />
                                    </Grid>
                                </Grid>
                            </Grid>
                        </Border>

                        <Border BorderBrush="{StaticResource FossilGrey}"
                                        BorderThickness="1"
                                        Grid.Column="1">
                            <Grid>
                                <Grid.RowDefinitions>
                                    <RowDefinition Height="2*" />
                                    <RowDefinition Height="8*" />
                                </Grid.RowDefinitions>
                                <Label Content="Request Status"
                                       Grid.Row="0"
                                       Padding="0"
                                       Style="{StaticResource LabelStyle}"
                                       Margin="4,0,0,0"
                                       Foreground="{StaticResource StoneWhite}"
                                       FontWeight="Bold" />
                                <Grid Grid.Row="1"
                                      Margin="4,0,0,0">

                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="6*" />
                                        <ColumnDefinition Width="4*" />
                                    </Grid.ColumnDefinitions>
                                    <Grid Grid.Column="0">
                                        <Grid.RowDefinitions>
                                            <RowDefinition Height="3.3*" />
                                            <RowDefinition Height="3.3*" />
                                            <RowDefinition Height="3.3*" />
                                        </Grid.RowDefinitions>
                                        <RadioButton Content="Defected"
                                                                 Grid.Row="0"
                                                                 IsEnabled="{Binding RequestStatusDefectedEnabled}"
                                                                 Command="{Binding RequestStatusChangedCommand}"
                                                                 IsChecked="{Binding RequestStatusButtonSelectionConverter, Converter={StaticResource ResourceKey=RadioConverterKey}, ConverterParameter=Defected}" Grid.ColumnSpan="2" Margin="0,0,0,28" Grid.RowSpan="2" />
                                        <RadioButton Content="Ready"
                                                                 Grid.Row="1"
                                                                 IsEnabled="{Binding RequestStatusReadyEnabled}"
                                                                 Command="{Binding RequestStatusChangedCommand}"
                                                                 IsChecked="{Binding RequestStatusButtonSelectionConverter, Converter={StaticResource ResourceKey=RadioConverterKey}, ConverterParameter=Ready}" Grid.ColumnSpan="2" Margin="0,0,0,27" Grid.RowSpan="2" />
                                        <RadioButton Content="Complete"
                                                                 Grid.Row="2"
                                                                 IsEnabled="{Binding RequestStatusCompleteEnabled}"
                                                                 Command="{Binding RequestStatusChangedCommand}"
                                                                 IsChecked="{Binding RequestStatusButtonSelectionConverter, Converter={StaticResource ResourceKey=RadioConverterKey}, ConverterParameter=Complete}" Grid.ColumnSpan="2" Margin="0,0,0,-2" />
                                    </Grid>

                                    <Grid Grid.Column="1">
                                        <Button x:Name="ResetStatusButton"
                                                Grid.Row="1"
                                                Content="Reset"
                                                Style="{StaticResource ButtonStyle}"
                                                HorizontalAlignment="Left"
                                                VerticalAlignment="Bottom"
                                                Margin="0,0,0,5"
                                                FontWeight="Bold"
                                                IsEnabled="{Binding ResetStatusEnabled}"
                                                Command="{Binding ResetStatusCommand}" />
                                    </Grid>
                                </Grid>
                            </Grid>
                        </Border>

                        <Border BorderBrush="{StaticResource FossilGrey}"
                            BorderThickness="1"
                            Grid.Column="2">
                            <Grid>
                                <Grid.RowDefinitions>
                                    <RowDefinition Height="5*" />
                                    <RowDefinition Height="5*" />
                                </Grid.RowDefinitions>

                                <StackPanel Grid.Row="0"
                                                    HorizontalAlignment="Stretch"
                                                    VerticalAlignment="Center"
                                                    Margin="0,0,0,2">
                                    <Label          x:Name="TotalUsersLabel"
                                                    Content="Total Users"
                                                    Width="Auto"
                                                    Height="28"
                                                    HorizontalAlignment="Center"
                                                    VerticalAlignment="Center"
                                                    Style="{StaticResource LabelStyle}"
                                                    Foreground="{StaticResource StoneWhite}"
                                                    FontWeight="Bold" />
                                    <Border CornerRadius="5"
                                                    Background="{StaticResource TricornBlack}"
                                                    Width="Auto"
                                                    Height="26"
                                                    Margin="10,0,10,4">
                                        <TextBox x:Name="totalUsersBox"
                                                   VerticalContentAlignment="Center"
                                                   HorizontalAlignment="Stretch"
                                                   VerticalAlignment="Stretch"
                                                   Height="Auto"
                                                   Width="Auto"
                                                   Margin="3"
                                                   IsEnabled="{Binding TotalUsersEnabled}"
                                                   Style="{StaticResource UpdateBox}"
                                                   Text="{Binding TotalUsersString,Mode=TwoWay,UpdateSourceTrigger=PropertyChanged}" />
                                    </Border>
                                </StackPanel>

                                <StackPanel Grid.Row="1"
                                                    HorizontalAlignment="Stretch"
                                                    VerticalAlignment="Center"
                                                    Margin="0,0,0,2">
                                    <Label x:Name="FormTypeLabel"
                                                    Content="Form Type"
                                                    Width="Auto"
                                                    Height="28"
                                                    HorizontalAlignment="Center"
                                                    VerticalAlignment="Center"
                                                    Style="{StaticResource LabelStyle}"
                                                    Foreground="{StaticResource StoneWhite}"
                                                    FontWeight="Bold" />
                                    <Border CornerRadius="5"
                                                    Background="{StaticResource TricornBlack}"
                                                    Width="Auto"
                                                    Height="26"
                                                    Margin="10,0,10,4">
                                        <ComboBox x:Name="FormTypeBox"
                                                    Style="{StaticResource ComboBoxTheme}"
                                                    Grid.Column="1"
                                                    Margin="3"
                                                    VerticalAlignment="Center"
                                                    HorizontalAlignment="Stretch"
                                                    Width="Auto"
                                                    SelectedIndex="0"
                                                    ItemsSource="{Binding FormTypes}"
                                                    DisplayMemberPath="Name"
                                                    IsEnabled="{Binding FormTypesEnabled}"
                                                    SelectedItem="{Binding SelectedFormTerm}" />
                                    </Border>
                                </StackPanel>
                            </Grid>
                        </Border>

                        <Border BorderBrush="{StaticResource FossilGrey}"
                            BorderThickness="1"
                            Grid.Column="3">
                            <Grid>
                                <Grid.RowDefinitions>
                                    <RowDefinition Height="5*" />
                                    <RowDefinition Height="5*" />
                                </Grid.RowDefinitions>

                                <StackPanel         Grid.Row="0"
                                                    HorizontalAlignment="Stretch"
                                                    VerticalAlignment="Center"
                                                    Margin="0,0,0,2">
                                    <Label          x:Name="XREF1Label"
                                                    Content="XREF1 (IT Central)"
                                                    Width="Auto"
                                                    Height="28"
                                                    HorizontalAlignment="Center"
                                                    VerticalAlignment="Center"
                                                    Style="{StaticResource LabelStyle}"
                                                    Foreground="{StaticResource StoneWhite}"
                                                    FontWeight="Bold" />
                                    <Border         CornerRadius="5"
                                                    Background="{StaticResource TricornBlack}"
                                                    Width="Auto"
                                                    Height="26"
                                                    Margin="10,0,10,4">
                                        <TextBox x:Name="XREF1Box"
                                                   VerticalContentAlignment="Center"
                                                   HorizontalAlignment="Stretch"
                                                   VerticalAlignment="Stretch"
                                                   Height="Auto"
                                                   Width="Auto"
                                                   Margin="3"
                                                   IsEnabled="{Binding Xref1BoxEnabled}"
                                                   Style="{StaticResource UpdateBox}"
                                                   Text="{Binding Xref1String,Mode=TwoWay,UpdateSourceTrigger=PropertyChanged}" />
                                    </Border>
                                </StackPanel>

                                <StackPanel         Grid.Row="1"
                                                    HorizontalAlignment="Stretch"
                                                    VerticalAlignment="Center"
                                                    Margin="0,0,0,2">
                                    <Label          x:Name="XREF2Label"
                                                    Content="XREF 2 (Persona)"
                                                    Width="Auto"
                                                    Height="28"
                                                    HorizontalAlignment="Center"
                                                    VerticalAlignment="Center"
                                                    Style="{StaticResource LabelStyle}"
                                                    Foreground="{StaticResource StoneWhite}"
                                                    FontWeight="Bold" />
                                    <Border         CornerRadius="5"
                                                    Background="{StaticResource TricornBlack}"
                                                    Width="Auto"
                                                    Height="26"
                                                    Margin="10,0,10,4">
                                        <TextBox    x:Name="XREF2Box"
                                                   VerticalContentAlignment="Center"
                                                   HorizontalAlignment="Stretch"
                                                   VerticalAlignment="Stretch"
                                                   Height="Auto"
                                                   Width="Auto"
                                                   Margin="3"
                                                   IsEnabled="{Binding Xref2BoxEnabled}"
                                                   Style="{StaticResource UpdateBox}"
                                                   Text="{Binding Xref2String,Mode=TwoWay,UpdateSourceTrigger=PropertyChanged}" />
                                    </Border>
                                </StackPanel>
                            </Grid>
                        </Border>

                        <Border BorderBrush="{StaticResource FossilGrey}"
                            BorderThickness="1"
                            Grid.Column="4">
                            <Grid>
                                <Grid.RowDefinitions>
                                    <RowDefinition Height="5*" />
                                    <RowDefinition Height="5*" />
                                </Grid.RowDefinitions>

                                <StackPanel         Grid.Row="0"
                                                    HorizontalAlignment="Stretch"
                                                    VerticalAlignment="Center"
                                                    Margin="0,0,0,2">
                                    <Label          x:Name="CommentsLabel"
                                                    Content="Additional Comments"
                                                    Width="Auto"
                                                    Height="28"
                                                    HorizontalAlignment="Center"
                                                    VerticalAlignment="Center"
                                                    Style="{StaticResource LabelStyle}"
                                                    Foreground="{StaticResource StoneWhite}"
                                                    FontWeight="Bold" />
                                    <Border         CornerRadius="5"
                                                    Background="{StaticResource TricornBlack}"
                                                    Width="Auto"
                                                    Height="26"
                                                    Margin="10,0,10,4">
                                        <TextBox   x:Name="AdditionalCommentsTextBox"
                                                   VerticalContentAlignment="Center"
                                                   HorizontalAlignment="Stretch"
                                                   VerticalAlignment="Stretch"
                                                   Height="Auto"
                                                   Width="Auto"
                                                   Margin="3"
                                                   IsEnabled="{Binding CommentsBoxEnabled}"
                                                   Style="{StaticResource UpdateBox}"
                                                   Text="{Binding AdditionalCommentsTextBoxString,Mode=TwoWay,UpdateSourceTrigger=PropertyChanged}" />
                                    </Border>
                                </StackPanel>

                                <StackPanel         Grid.Row="1"
                                                    HorizontalAlignment="Stretch"
                                                    VerticalAlignment="Center"
                                                    Margin="0,0,0,2">
                                    <StackPanel Grid.Row="1"
                                                    HorizontalAlignment="Stretch"
                                                    VerticalAlignment="Center"
                                                    Margin="0,0,0,2">
                                        <Label x:Name="RequestStateLabel"
                                                    Content="Request State"
                                                    Width="Auto"
                                                    Height="28"
                                                    HorizontalAlignment="Center"
                                                    VerticalAlignment="Center"
                                                    Style="{StaticResource LabelStyle}"
                                                    Foreground="{StaticResource StoneWhite}"
                                                    FontWeight="Bold" />
                                        <Border CornerRadius="5"
                                                    Background="{StaticResource TricornBlack}"
                                                    Width="Auto"
                                                    Height="26"
                                                    Margin="10,0,10,4">
                                            <ComboBox x:Name="RequestStateComboBox"
                                                    Style="{StaticResource ComboBoxTheme}"
                                                    Grid.Column="1"
                                                    Margin="3"
                                                    VerticalAlignment="Center"
                                                    HorizontalAlignment="Stretch"
                                                    Width="Auto"
                                                    SelectedIndex="0"
                                                    ItemsSource="{Binding StateTypes}"
                                                    IsEnabled="{Binding SelectedStateEnabled}"
                                                    DisplayMemberPath="BoxItem"
                                                    SelectedItem="{Binding SelectedState}" />
                                        </Border>
                                    </StackPanel>
                                </StackPanel>
                            </Grid>
                        </Border>

                        <Border BorderBrush="{StaticResource FossilGrey}"
                            BorderThickness="1"
                            Grid.Column="5">
                            <Grid>
                                <Grid.RowDefinitions>
                                    <RowDefinition Height="2.5*" />
                                    <RowDefinition Height="2.5*" />
                                    <RowDefinition Height="4*" />
                                </Grid.RowDefinitions>

                                <CheckBox Content="Sent Back"
                                   VerticalAlignment="Center"
                                   HorizontalAlignment="Center"
                                   Margin="0,2,0,0"      
                                   Grid.Row="0"
                                   IsEnabled="{Binding SendBackEnabled}"
                                   IsChecked="{Binding Path=SendBackChecked,Mode=TwoWay}" 
                                    Command="{Binding  SendChangedCommand}"  
                                          CommandParameter="Send"
                                          />

                                <CheckBox Content="Received back"
                                   VerticalAlignment="Center"
                                   HorizontalAlignment="Center"
                                   Grid.Row="1"
                                     Margin="0,2,0,0"            
                                   IsEnabled="{Binding ReceivedBackEnabled}"
                                   IsChecked="{Binding Path=ReceivedBackChecked,Mode=TwoWay}" 
                                   Command="{Binding  SendChangedCommand}"     
                                          CommandParameter="Receive"
                                   />


                                <StackPanel Grid.Row="2"
                                                    HorizontalAlignment="Stretch"
                                                    VerticalAlignment="Center"
                                                    Margin="0,0,0,5">
                                    <Label 
                                                    Content="LOB Type"
                                                    Width="Auto"
                                                    Height="28"
                                                    HorizontalAlignment="Center"
                                                    VerticalAlignment="Center"
                                                    Style="{StaticResource LabelStyle}"
                                                    Foreground="{StaticResource StoneWhite}"
                                                    FontWeight="Bold" />
                                    <Border CornerRadius="5"
                                                    Background="{StaticResource TricornBlack}"
                                                    Width="Auto"
                                                    Height="26"
                                                    Margin="10,0,10,3">
                                        <ComboBox 
                                                    Style="{StaticResource ComboBoxTheme}"
                                                    Grid.Column="1"
                                                    Margin="0"
                                                    VerticalAlignment="Center"
                                                    HorizontalAlignment="Stretch"
                                                    Width="Auto"
                                                    SelectedIndex="0"
                                                    ItemsSource="{Binding LOBTypes}"
                                                    DisplayMemberPath="Name"
                                                    IsEnabled="{Binding LOBListViewEnabled}"
                                                    SelectedItem="{Binding SelectedLOBTerm}" />
                                    </Border>
                                </StackPanel>



                            </Grid>
                        </Border>
                    </Grid>
                </Border>

                <Border BorderBrush="{StaticResource FossilGrey}"
                            BorderThickness="1"
                            Grid.Row="1">
                    <Grid>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="2.5*" />
                            <ColumnDefinition Width="2.5*" />
                            <ColumnDefinition Width="2.5*" />
                            <ColumnDefinition Width="2.5*" />
                        </Grid.ColumnDefinitions>

                        <Border BorderBrush="{StaticResource FossilGrey}"
                            BorderThickness="1"
                            Grid.Column="3">
                            <Grid>
                                <Grid.RowDefinitions>
                                    <RowDefinition Height="1*" />
                                    <RowDefinition Height="9*" />
                                </Grid.RowDefinitions>
                                <Label Content="Reason for Defect"
                                       Margin="4,0,0,0"
                                       Grid.Row="0"
                                       Padding="0"
                                       Style="{StaticResource LabelStyle}"
                                       Foreground="{StaticResource StoneWhite}"
                                       FontWeight="Bold" />

                                <Button x:Name="dumpsterFire"
                                Grid.Row="0"
                                BorderThickness="0"
                                ToolTip="Dumpster Fire"
                                WindowChrome.IsHitTestVisibleInChrome="True"
                                Width="25"
                                RenderTransformOrigin="-0.736,-1.222"
                                Style="{StaticResource TitleButtonTheme}"
                                Margin="5"
                                Height="25"
                                VerticalAlignment="Bottom"
                                HorizontalAlignment="Right"
                                DockPanel.Dock="Right"
                                Visibility="{Binding Path=DumpsterVisible, Converter={StaticResource BoolToVis}}"
                                Foreground="Transparent">
                                    <Button.Background>
                                        <ImageBrush ImageSource="/IAMHeimdall;component/Resources/Images/Trash.png" />
                                    </Button.Background>
                                </Button>

                                <ListView  x:Name="ReasonsListView"
                                                           Grid.Row="1"
                                                           Style="{StaticResource ListBoxStyle}"
                                                           Margin="2,2,2,2"
                                                           ItemsSource="{Binding DefectReasons}"
                                                           IsEnabled="{Binding DefectListViewEnabled}"
                                                           SelectionMode="Single"
                                                           SelectedItem="{Binding SelectedDefectReason}">
                                    <ListView.InputBindings>
                                        <KeyBinding Key="Space"
                                                                    Command="{Binding SpaceCheckboxCommand}"
                                                                    CommandParameter="DefectReason" />
                                    </ListView.InputBindings>
                                    <ListView.ItemTemplate>
                                        <DataTemplate>
                                            <Grid>
                                                <CheckBox Command="{Binding DataContext.RequestChangedCommand,
                                                                                RelativeSource={RelativeSource FindAncestor,
                                                                                AncestorType=UserControl}}"
                                                                           IsChecked="{Binding IsSelected, Mode=TwoWay}">
                                                    <CheckBox.Content>
                                                        <TextBox Text="{Binding Name}"
                                                                           IsReadOnly="{Binding IsCustom}"></TextBox>
                                                    </CheckBox.Content>
                                                </CheckBox>
                                            </Grid>
                                        </DataTemplate>
                                    </ListView.ItemTemplate>
                                </ListView>
                            </Grid>
                        </Border>

                        <Border BorderBrush="{StaticResource FossilGrey}"
                            BorderThickness="1"
                            Grid.Column="1">
                            <Grid>
                                <Grid.RowDefinitions>
                                    <RowDefinition Height="1*" />
                                    <RowDefinition Height="9*" />
                                </Grid.RowDefinitions>

                                <Label Content="Systems"
                                   Grid.Row="0"
                                   Padding="0"
                                   Style="{StaticResource LabelStyle}"
                                   Margin="4,0,0,0"
                                   Foreground="{StaticResource StoneWhite}"
                                   FontWeight="Bold" />
                                <ListView  x:Name="SystemsListView"
                                               Grid.Row="1"
                                               Style="{StaticResource ListBoxStyle}"
                                               Margin="2,2,2,2"
                                               IsEnabled="{Binding SystemsListViewEnabled}"
                                               SelectionMode="Single"
                                               SelectedItem="{Binding SelectedSystemTerm}"
                                               ItemsSource="{Binding Systems}"
                                           >
                                   
                                    <ListView.InputBindings>
                                        <KeyBinding     Key="Space"
                                                        Command="{Binding SpaceCheckboxCommand}"
                                                        CommandParameter="Systems" />
                                    </ListView.InputBindings>
                                    <ListView.ItemTemplate>
                                        <DataTemplate>
                                            <Grid>
                                                <CheckBox Command="{Binding DataContext.RequestChangedCommand,
                                                                                RelativeSource={RelativeSource FindAncestor,
                                                                                AncestorType=UserControl}}"
                                                              IsTabStop="True"
                                                              IsChecked="{Binding IsSelected, Mode=TwoWay}">
                                                    <CheckBox.Content>
                                                        <TextBox Text="{Binding Name}"
                                                                     IsReadOnly="{Binding IsCustom}">
                                                        </TextBox>
                                                    </CheckBox.Content>
                                                </CheckBox>
                                            </Grid>
                                        </DataTemplate>
                                    </ListView.ItemTemplate>
                                </ListView>
                            </Grid>
                        </Border>

                        <Border BorderBrush="{StaticResource FossilGrey}"
                            BorderThickness="1"
                            Grid.Column="2">
                            <Grid>
                                <Grid.RowDefinitions>
                                    <RowDefinition Height="1*" />
                                    <RowDefinition Height="9*" />
                                </Grid.RowDefinitions>
                                <Label Content="Reply Types"
                                       Grid.Row="0"
                                       Padding="0"
                                       Style="{StaticResource LabelStyle}"
                                       Margin="4,0,0,0"
                                       Foreground="{StaticResource StoneWhite}"
                                       FontWeight="Bold" />
                                <ListView  x:Name="ReplyTypesListView"
                                       Grid.Row="1"
                                       Style="{StaticResource ListBoxStyle}"
                                       Margin="2,2,2,2"
                                       ItemsSource="{Binding ReplyTypes}"
                                       IsEnabled="{Binding ReplyListViewEnabled}"
                                       SelectionMode="Single"
                                       SelectedItem="{Binding SelectedReplyTerm}">
                                    <ListView.InputBindings>
                                        <KeyBinding Key="Space"
                                                        Command="{Binding SpaceCheckboxCommand}"
                                                        CommandParameter="ReplyType" />
                                    </ListView.InputBindings>
                                    <ListView.ItemTemplate>
                                        <DataTemplate>
                                            <Grid>
                                                <CheckBox Command="{Binding DataContext.RequestChangedCommand,
                                                                                RelativeSource={RelativeSource FindAncestor,
                                                                                AncestorType=UserControl}}"
                                                              IsChecked="{Binding IsSelected, Mode=TwoWay}">
                                                    <CheckBox.Content>
                                                        <TextBox Text="{Binding Name}"
                                                                     IsReadOnly="{Binding IsCustom}"></TextBox>
                                                    </CheckBox.Content>
                                                </CheckBox>
                                            </Grid>
                                        </DataTemplate>
                                    </ListView.ItemTemplate>
                                </ListView>
                            </Grid>
                        </Border>

                        <Border BorderBrush="{StaticResource FossilGrey}"
                            BorderThickness="1"
                            Grid.Column="0">
                            <Grid>
                                <Grid.RowDefinitions>
                                    <RowDefinition Height="1*" />
                                    <RowDefinition Height="9*" />
                                </Grid.RowDefinitions>
                                <Label Content="Request Types"
                                       Grid.Row="0"
                                       Padding="0"
                                       Style="{StaticResource LabelStyle}"
                                       Margin="4,0,0,0"
                                       Foreground="{StaticResource StoneWhite}"
                                       FontWeight="Bold" />
                                <ListView  x:Name="RequestTypesListView"
                                       Grid.Row="1"
                                       Style="{StaticResource ListBoxStyle}"
                                       Margin="2,2,2,2"
                                       IsEnabled="{Binding RequestTypesEnabled}"
                                       ItemsSource="{Binding RequestTypes}"
                                       SelectionMode="Single"
                                       SelectedItem="{Binding SelectedRequestTerm}">
                                    <ListView.InputBindings>
                                        <KeyBinding Key="Space"
                                                        Command="{Binding SpaceCheckboxCommand}"
                                                        CommandParameter="RequestType" />
                                    </ListView.InputBindings>
                                    <ListView.ItemTemplate>
                                        <DataTemplate>
                                            <Grid>
                                                <CheckBox Command="{Binding DataContext.RequestChangedCommand,
                                                                                RelativeSource={RelativeSource FindAncestor,
                                                                                AncestorType=UserControl}}"
                                                              IsChecked="{Binding IsSelected, Mode=TwoWay}">
                                                    <CheckBox.Content>
                                                        <TextBox Text="{Binding Name}"
                                                                     IsReadOnly="{Binding IsCustom}"></TextBox>
                                                    </CheckBox.Content>
                                                </CheckBox>
                                            </Grid>
                                        </DataTemplate>
                                    </ListView.ItemTemplate>
                                </ListView>
                            </Grid>
                        </Border>
                    </Grid>
                </Border>

                <Border BorderBrush="{StaticResource FossilGrey}"
                            BorderThickness="1"
                            Grid.Row="2">

                    <Grid>
                        <Grid.RowDefinitions>
                            <RowDefinition Height="6*" />
                            <RowDefinition Height="4*" />
                        </Grid.RowDefinitions>

                        <Grid Grid.Row="0">
                            <Grid.RowDefinitions>
                                <RowDefinition Height="5*" />
                                <RowDefinition Height="5*" />
                            </Grid.RowDefinitions>

                            <Grid Grid.Row="0">
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="3*" />
                                    <ColumnDefinition Width="7*" />
                                </Grid.ColumnDefinitions>

                                <Label Content="Generate Text"
                                   Grid.Column="0"
                                   Padding="0"
                                   Style="{StaticResource LabelStyle}"
                                   Foreground="{StaticResource StoneWhite}"
                                   FontWeight="Bold" Grid.RowSpan="2" />
                                <Label x:Name="statusLabel"
                                   Grid.Column="1"
                                   Content="{Binding StatusString}"
                                   Width="Auto"
                                   Height="Auto"
                                   HorizontalAlignment="Stretch"
                                   VerticalAlignment="Stretch"
                                   HorizontalContentAlignment="Center"
                                   Style="{StaticResource LabelStyle}"
                                   Foreground="{StaticResource NeonBlue}"
                                   FontWeight="Bold" />
                            </Grid>
                            <Border  Grid.Row="1"
                                     CornerRadius="5"
                                     Background="{StaticResource TricornBlack}"
                                     Margin="2,0,2,0"
                                     Width="Auto"
                                     Height="Auto">
                                <TextBox x:Name="GenerateTextBox"
                                     VerticalContentAlignment="Center"
                                     HorizontalAlignment="Stretch"
                                     VerticalAlignment="Stretch"
                                     Height="Auto"
                                     Width="Auto"
                                     Margin="3"
                                     IsReadOnly="True"
                                     Style="{StaticResource UpdateBox}"
                                     Text="{Binding GenerateTextBoxString,Mode=TwoWay,UpdateSourceTrigger=PropertyChanged}" />
                            </Border>
                        </Grid>

                        <Border BorderBrush="{StaticResource FossilGrey}"
                                    BorderThickness="1"
                                    Grid.Row="1">
                            <Grid>
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="3.3*" />
                                    <ColumnDefinition Width="3.3*" />
                                    <ColumnDefinition Width="3.3*" />
                                </Grid.ColumnDefinitions>

                                <Border BorderBrush="{StaticResource FossilGrey}"
                                    BorderThickness="1"
                                    Grid.Column="0">
                                    <Button x:Name="GenerateButton"
                                           Grid.Column="3"
                                           Content="{Binding GenerateButtonString}"
                                           Style="{StaticResource ButtonStyle}"
                                           HorizontalAlignment="Center"
                                           VerticalAlignment="Center"
                                           Margin="0,0,0,5"
                                           FontWeight="Bold"
                                           Grid.Row="0"
                                           IsEnabled="{Binding GenerateButtonEnabled}"
                                           Command="{Binding GenerateCommand}" />
                                </Border>

                                <Border BorderBrush="{StaticResource FossilGrey}"
                                    BorderThickness="1"
                                    Grid.Column="1">
                                    <CheckBox Content="Update Request Store"
                                          VerticalAlignment="Center"
                                          HorizontalAlignment="Center"
                                          IsChecked="{Binding Path=UpdateRequestChecked,Mode=TwoWay}"
                                          Visibility="{Binding Path=UpdateRequestCheckVisible, Converter={StaticResource BoolToVis}}" />
                                </Border>

                                <Border BorderBrush="{StaticResource FossilGrey}"
                                    BorderThickness="1"
                                    Grid.Column="2">
                                    <Button x:Name="ClearForm"
                                    Grid.Column="3"
                                    Content="Clear Form"
                                    Style="{StaticResource ButtonStyle}"
                                    HorizontalAlignment="Center"
                                    VerticalAlignment="Center"
                                    Margin="0,0,0,5"
                                    FontWeight="Bold"
                                    Grid.Row="0"
                                    Command="{Binding ClearFormCommand}" />
                                </Border>
                            </Grid>
                        </Border>
                    </Grid>
                </Border>
            </Grid>
        </Grid>
    </Border>
</UserControl>